<div class="cmty-view-post-item-text">The Bank of Bath issues coins with an <img alt="$H$" class="latex" height="12" src="https://latex.artofproblemsolving.com/b/1/9/b1902d279ba37d60bdce4e0e987b7cd19d48974e.png" width="16"/> on one side and a <img alt="$T$" class="latex" height="12" src="https://latex.artofproblemsolving.com/2/5/5/2554b6496c3b678897e9b060ef00aa9f0a7d7ece.png" width="13"/> on the other. Harry has <img alt="$n$" class="latex" height="8" src="https://latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" width="10"/> of these coins arranged in a line from left to right. He repeatedly performs the following operation: if there are exactly <img alt="$k&gt;0$" class="latex" height="13" src="https://latex.artofproblemsolving.com/6/7/e/67e6630318d8cb28de2723180b6d359b972489c9.png" style="vertical-align: 0px" width="43"/> coins showing <span style="white-space:pre;"><img alt="$H$" class="latex" height="12" src="https://latex.artofproblemsolving.com/b/1/9/b1902d279ba37d60bdce4e0e987b7cd19d48974e.png" width="16"/>,</span> then he turns over the <span style="white-space:pre;"><img alt="$k$" class="latex" height="12" src="https://latex.artofproblemsolving.com/8/c/3/8c325612684d41304b9751c175df7bcc0f61f64f.png" width="9"/>t</span>h coin from the left; otherwise, all coins show <img alt="$T$" class="latex" height="12" src="https://latex.artofproblemsolving.com/2/5/5/2554b6496c3b678897e9b060ef00aa9f0a7d7ece.png" width="13"/> and he stops. For example, if <img alt="$n=3$" class="latex" height="12" src="https://latex.artofproblemsolving.com/5/6/3/5635737307f5f0651cced8ee2e6558a426fd27b5.png" width="43"/> the process starting with the configuration <img alt="$THT$" class="latex" height="12" src="https://latex.artofproblemsolving.com/3/4/8/348503b1f7c433de94e3b8f0d55037e4de77a08d.png" width="42"/> would be <span style="white-space:pre;"><img alt="$THT \to HHT  \to HTT \to TTT$" class="latex" height="13" src="https://latex.artofproblemsolving.com/7/c/4/7c42dde83e7afbe7a5f24e5f507bfaa447f8a848.png" style="vertical-align: 0px" width="256"/>,</span> which stops after three operations.<br/>
<br/>
(a) Show that, for each initial configuration, Harry stops after a finite number of operations.<br/>
<br/>
(b) For each initial configuration <span style="white-space:pre;"><img alt="$C$" class="latex" height="12" src="https://latex.artofproblemsolving.com/c/3/3/c3355896da590fc491a10150a50416687626d7cc.png" width="14"/>,</span> let <img alt="$L(C)$" class="latex" height="18" src="https://latex.artofproblemsolving.com/d/8/a/d8a6a68dd77f3fc62bca3fd746bdbe18c60bfc99.png" style="vertical-align: -4px" width="39"/> be the number of operations before Harry stops. For example, <img alt="$L(THT) = 3$" class="latex" height="18" src="https://latex.artofproblemsolving.com/9/6/5/96516425c43b8ffb914897348ea9b32b7c51c6c8.png" style="vertical-align: -4px" width="102"/> and <span style="white-space:pre;"><img alt="$L(TTT) = 0$" class="latex" height="18" src="https://latex.artofproblemsolving.com/6/7/6/6767cd9422fe2c413c2a0f521ab2fa6de890ffbf.png" style="vertical-align: -4px" width="98"/>.</span> Determine the average value of <img alt="$L(C)$" class="latex" height="18" src="https://latex.artofproblemsolving.com/d/8/a/d8a6a68dd77f3fc62bca3fd746bdbe18c60bfc99.png" style="vertical-align: -4px" width="39"/> over all <img alt="$2^n$" class="latex" height="12" src="https://latex.artofproblemsolving.com/6/c/3/6c36f0b157e8c2fbe0638c2f2b378e08d07695aa.png" width="17"/> possible initial configurations <span style="white-space:pre;"><img alt="$C$" class="latex" height="12" src="https://latex.artofproblemsolving.com/c/3/3/c3355896da590fc491a10150a50416687626d7cc.png" width="14"/>.</span><br/>
<br/>
<i>Proposed by David Altizio, USA</i></div>