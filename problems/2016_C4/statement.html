<div class="cmty-view-post-item-text">Find all integers <img alt="$n$" class="latex" height="8" src="https://latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" width="10"/> for which each cell of <img alt="$n \times n$" class="latex" height="9" src="https://latex.artofproblemsolving.com/c/3/d/c3d38f82f48ef9e81c04d49354293305b0067afc.png" width="43"/> table can be filled with one of the letters <img alt="$I,M$" class="latex" height="16" src="https://latex.artofproblemsolving.com/7/e/b/7eb1d5bfa4f986caf50b27b765d697478594fe88.png" style="vertical-align: -3px" width="36"/> and <img alt="$O$" class="latex" height="12" src="https://latex.artofproblemsolving.com/5/1/d/51da37d984564162c87710ca27bea422f657fb73.png" width="13"/> in such a way that:
<ul class="bbcode_list">
<li>in each row and each column, one third of the entries are <span style="white-space:nowrap;"><img alt="$I$" class="latex" height="12" src="https://latex.artofproblemsolving.com/0/2/7/027f4a11d6090f9eac0ce2488df6384dad1263ea.png" width="9"/>,</span> one third are <img alt="$M$" class="latex" height="12" src="https://latex.artofproblemsolving.com/5/d/1/5d1e4485dc90c450e8c76826516c1b2ccb8fce16.png" width="19"/> and one third are <span style="white-space:nowrap;"><img alt="$O$" class="latex" height="12" src="https://latex.artofproblemsolving.com/5/1/d/51da37d984564162c87710ca27bea422f657fb73.png" width="13"/>;</span> andÂ </li>
<li>in any diagonal, if the number of entries on the diagonal is a multiple of three, then one third of the entries are <span style="white-space:nowrap;"><img alt="$I$" class="latex" height="12" src="https://latex.artofproblemsolving.com/0/2/7/027f4a11d6090f9eac0ce2488df6384dad1263ea.png" width="9"/>,</span> one third are <img alt="$M$" class="latex" height="12" src="https://latex.artofproblemsolving.com/5/d/1/5d1e4485dc90c450e8c76826516c1b2ccb8fce16.png" width="19"/> and one third are <span style="white-space:nowrap;"><img alt="$O$" class="latex" height="12" src="https://latex.artofproblemsolving.com/5/1/d/51da37d984564162c87710ca27bea422f657fb73.png" width="13"/>.</span></li>
</ul>
<b>Note.</b> The rows and columns of an <img alt="$n \times n$" class="latex" height="9" src="https://latex.artofproblemsolving.com/c/3/d/c3d38f82f48ef9e81c04d49354293305b0067afc.png" width="43"/> table are each labelled <img alt="$1$" class="latex" height="12" src="https://latex.artofproblemsolving.com/d/c/e/dce34f4dfb2406144304ad0d6106c5382ddd1446.png" style="vertical-align: 0px" width="8"/> to <img alt="$n$" class="latex" height="8" src="https://latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" width="10"/> in a natural order. Thus each cell corresponds to a pair of positive integer <img alt="$(i,j)$" class="latex" height="18" src="https://latex.artofproblemsolving.com/8/8/7/887919dfbc86eebc29e0373f98f97dbf23a0ae23.png" style="vertical-align: -4px" width="35"/> with <span style="white-space:nowrap;"><img alt="$1 \le i,j \le n$" class="latex" height="16" src="https://latex.artofproblemsolving.com/e/8/7/e87e88f3e8b65d91e121a285a0b48256bd99f7fd.png" style="vertical-align: -3px" width="91"/>.</span> For <span style="white-space:nowrap;"><img alt="$n&gt;1$" class="latex" height="12" src="https://latex.artofproblemsolving.com/6/5/2/65262bf247c4a3c6114a8223d249dc9702619d3e.png" style="vertical-align: 0px" width="43"/>,</span> the table has <img alt="$4n-2$" class="latex" height="12" src="https://latex.artofproblemsolving.com/1/a/9/1a9b50fb391724dad29de2f5524d731f3dd1ccc0.png" style="vertical-align: 0px" width="50"/> diagonals of two types. A diagonal of first type consists all cells <img alt="$(i,j)$" class="latex" height="18" src="https://latex.artofproblemsolving.com/8/8/7/887919dfbc86eebc29e0373f98f97dbf23a0ae23.png" style="vertical-align: -4px" width="35"/>  for which <img alt="$i+j$" class="latex" height="16" src="https://latex.artofproblemsolving.com/a/0/5/a058b5b38c16c64a07a6497271d636475625efde.png" style="vertical-align: -3px" width="36"/> is a constant, and the diagonal of this second type consists all cells <img alt="$(i,j)$" class="latex" height="18" src="https://latex.artofproblemsolving.com/8/8/7/887919dfbc86eebc29e0373f98f97dbf23a0ae23.png" style="vertical-align: -4px" width="35"/> for which <img alt="$i-j$" class="latex" height="16" src="https://latex.artofproblemsolving.com/6/e/7/6e738b4769cbbf393ad5140314a87e41cdc70480.png" style="vertical-align: -3px" width="36"/> is constant.</div>