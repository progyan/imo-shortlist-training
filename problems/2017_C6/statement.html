<div class="cmty-view-post-item-text">Let <img alt="$n &gt; 1$" class="latex" height="12" src="https://latex.artofproblemsolving.com/4/9/d/49d98ffe996c0f0d3b82b284cba2113439fefea9.png" style="vertical-align: 0px" width="43"/> be a given integer. An <img alt="$n \times n \times n$" class="latex" height="9" src="https://latex.artofproblemsolving.com/c/6/5/c65e5c05ed48058af29306058b38dffcd76567c1.png" width="77"/> cube is composed of <img alt="$n^3$" class="latex" height="15" src="https://latex.artofproblemsolving.com/4/b/a/4ba37f50c674bcbae995ed1d9dfd4beb5e53c765.png" width="17"/> unit cubes. Each unit cube is painted with one colour. For each <img alt="$n \times n \times 1$" class="latex" height="12" src="https://latex.artofproblemsolving.com/a/7/f/a7f797aafcb03e2a55bb2d453e6a8e4ab1ec61d8.png" style="vertical-align: 0px" width="74"/> box consisting of <img alt="$n^2$" class="latex" height="15" src="https://latex.artofproblemsolving.com/6/0/0/6006bba637eef443381fbaff768fa62d9ff41e62.png" width="17"/> unit cubes (in any of the three possible orientations), we consider the set of colours present in that box (each colour is listed only once). This way, we get <img alt="$3n$" class="latex" height="12" src="https://latex.artofproblemsolving.com/a/4/5/a45e3d817886b4d9dbd6bb74ad23463ed139ed68.png" width="19"/> sets of colours, split into three groups according to the orientation.<br/>
<br/>
It happens that for every set in any group, the same set appears in both of the other groups. Determine, in terms of <span style="white-space:pre;"><img alt="$n$" class="latex" height="8" src="https://latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" width="10"/>,</span> the maximal possible number of colours that are present.</div>